# MULTICOM4
This is the development repository for the MULTICOM protein structure prediction system for the CASP16 competition. It includes all the programs used in the CASP15 experiment and new programs developed for the CASP16 experiment. 

[Notes for updated tools](Tools_notes.md)

[Notes for updated databases](Database_notes.md)

Monomer

- Adjustable inputs for AlphaFold2-based variants

     | Adjustable inputs  | Description | Choices | default value |
     | -------------| ---------------| ------ | ------ |
     | MSA inputs| MSA sampling | default, original, colabfold, img, deepmsa | default | 
     | Template inputs | Template sampling | pdb70 (default), pdb_sort90 (inhouse template database), no templates | pdb70 (default) |
     | monomer_num_ensemble | number of ensemble | 8 (casp15) |  3 |
     | monomer_num_recycle | number of recycle | 8 (casp15) | 1 |
     | monomer preset | deep learning models for monomer | monomer, monomer_ptm | monomer |
     | dropout | dropout rate during inference | true, false | false |
     | dropout_structure_module | Dropout in structure module at inference | true, false | true (0.1) |

- AlphaFold2-based predictors

     | Predictor  | MSA | Template | monomer preset | dropout | dropout in structure module | Description |
     | -------------| -----| -----| -----| -----| -----| -----| 
     | default | default | pdb70 (default) | monomer | false | true (0.1) | default AlphaFold2 | 
     | default_seq_temp | default | pdb_sort90 | monomer | false | true (0.1) | Inhouse template database |
     | original | original | pdb70 (default) | monomer | false | true (0.1) | search MSA seperately |
     | ori_seq_temp | original | pdb_sort90 | monomer | false | true (0.1) | Inhouse template database|
     | colabfold | colabfold | pdb70 (default) | monomer | false | true (0.1) | ColabFold Alignment | 
     | colab_seq_temp | colabfold | pdb_sort90 | monomer | false | true (0.1) | Inhouse template database|
     | img | img | pdb70 (default) | monomer | false | true (0.1) | IMG alignment |
     | img_seq_temp | img | pdb_sort90 | monomer | false | true (0.1) | Inhouse template database|
     | DHR | DHR | pdb70 (default) | monomer | false | true (0.1) | DHR Alignment generated by Pawan's program |
     | def_drop_s | default | pdb70 (default) | monomer | true | true (0.1) | AFSample | 
     | def_drop_nos | default | pdb70 (default) | monomer | true | false | AFSample | 
     | def_notemp | default | no templates | monomer | false | true (0.1) | AFSample |
     | def_notemp_drop_s | default | no templates | monomer | true | true (0.1) | AFSample |
     | def_notemp_drop_nos | default | no templates | monomer | true | false | AFSample |
     | DeepMSA predictors | DeepMSA | pdb70 (default) | monomer | false | true (0.1) | DeepMSA alignments (up to 16) |

     To be added:
     | Predictor  | Note |
     | -------------| -----| 
     | Foldseek refinement as a predictor | use the top-ranked models generated by default alphafold2 |
     | AFProfile | Need to test it on monomer |
     | TMsearch-based predictor | Use TMsearch to search for pdb templates|


     Number of models to generate:

     About 100 models per AlphaFold2-based variants (MSA, template, dropout), for non-alphafold predictors, use their default settings to generate models.

     For hard targets, use AFsample to generate 500 models per variants (total 2500) in AFsample. For other predictors, increase to 200 models per AlphaFold2-based variants.

- Non-AlphaFold2-based predictors

| Predictor  | Note |
| -------------| -----| 
|Paddle | Paddle-Helix| 
|ESMFold | ESMFold|
|DeepFold | DeepFold |
|MEGAFold | MEGAFold |


b. Multimer

- Adjustable inputs for AlphaFold-Multimer-based variants

     | Adjustable inputs  | Description | Choices | default value |
     | -------------| ---------------| ------ | ------ |
     | $MSA_{unpaired}$ inputs| Monomer MSAs | default, deepmsa | default | 
     | $MSA_{paired}$ inputs| Interaction sources | default, species, string, pdb, unidist, deepmsa | default | 
     | Template inputs | Template sampling | pdb_seqres (default), pdb70 (default), pdb_complex (inhouse template database), Foldseek structure-based, no templates | pdb_seqres (default) |
     | multimer_num_ensemble | number of ensemble | 3 (casp15) |  1 |
     | multimer_num_recycle | number of recycle | 5 (casp15) | 20 |
     | dropout | dropout rate during inference | true, false | false |
     | dropout_structure_module | Dropout in structure module at inference | true, false | true (0.1) |

- AlphaFold-Multimer-based predictors

     | Predictor  | Note |
     | -------------| -----| 
     |default_multimer | default AlphaFold-Multimer |
     |default_variants | default_variants|
     |spec_variants | spec_variants |
     |str_variants | str_variants |
     |pdb_variants| pdb_variants | 
     |unidist_variants | unidist_variants |
     |Iterative methods | Structural-alignment based methods |

To be added:

| Predictor  | Note |
| -------------| -----| 
|ESMFold | ESMFold|
|~~DeepFold~~ | ~~DeepFold~~ |
|~~MEGAFold~~ | ~~MEGAFold~~ |
|~~DMFold~~ | ~~DMFold~~|
|? kinds of MSA in DeepMSA2 | DeepMSA2| 
|5 variants in AFsample | AFsample| 

To be added: 
| Predictor  | Note |
| -------------| -----| 
| AFProfile | AFProfile | 
| default_multimer | default_multimer no msa pairing | 
| Iterative methods | Iterative methods no msa pairing | 
| Iterative methods | Iterative methods no templates |

Number of models to generate:

About 500 models per AlphaFold-Multimer-based variant (MSA, template, dropout), select the top 100 models for relaxation and further ranking.

For hard targets, use AFsample to generate 1000 models per variant (total 5000) in AFsample, select the top 200 for relaxation per variant and further ranking. For other predictors, increase to 1000 models per AlphaFold2-based variants, and select the top 200 models for relaxation.